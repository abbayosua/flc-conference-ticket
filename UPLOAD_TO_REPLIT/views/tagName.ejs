<!DOCTYPE html>
<html>

<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.2.1/html2canvas.min.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>
        Download Tag Name
    </title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head> 

<body spellcheck="false" >
    <nav class="navbar navbar-expand-md bg-dark navbar-dark">
        <a class="navbar-brand" href="#">FLC Registration System</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
          <ul class="navbar-nav">
          </ul>
        </div>
    </nav>
  
      <div style="width:100%; text-align: center; margin: 50px 0px -50px 0px; z-index: 99999; position: relative;">
        <h1>Registrasi Anda Berhasil!! </h1>
        <h5>Silahkan klik tombol dibawah untuk menyimpan Foto Tagname anda atau gallery anda karena otomatis terdownload, link ini juga sudah dikirimkan ke whatsapp anda apabila file tag name terhapus</h5>
        <i>File Foto Sudah berukuran Letter, ketika anda print tinggal pilih kertas Letter, area potong akan sesuai dengan ukuran Name Tag Holder yaitu <strong>126x95mm</strong><br>
        Jika anda menggunakan kertas A4, tetap pilih letter pada pengaturan print, terima kasih</i><br>
        <button id="convert-btn" class="btn btn-primary">Download Tag Name</button>
        
    </div>
    <div class="wcdiv wcpage" style="width:612pt; height:792pt;" id="this-content">
        <div class="wcdiv"><img class="wcimg" style="left: 171pt; top: 30.5pt; width: 362px; height: 476px;" src="/SOP.png" width="269.28pt" height="357.12pt"></div>
        <div class="wcdiv" style="left:161pt; top:237.67pt;">
            <div class="wcdiv" style="clip:rect(3.85pt,288.75pt,22.65pt,0.25pt);">
                <div class="wcdiv" style="left:7.45pt; top:3.85pt;"><span class="wcspan wctext001" style="font-size:13pt; color:#202124; left:8.02pt; top:2.55pt; line-height:14.4pt; width: 346px; text-align: center; text-transform: capitalize;"><%= user.full_name %></span> </div>
            </div>
        </div>
        <div class="wcdiv" style="left:159.99pt; top:259pt;">
            <div class="wcdiv" style="clip:rect(3.85pt,290.75pt,22.65pt,0.25pt);">
                <div class="wcdiv" style="left:7.45pt; top:3.85pt;"><span class="wcspan wctext001" style="color:#202124; left:68.54pt; top:1.51pt; line-height:13.29pt; width: 186px; font-size: 14.5px; text-align: center;"><%= user.position_at_church %></span></div>
            </div>
        </div>
        <div class="wcdiv" style="left:237.5pt; top:279.98pt;">
            <div class="wcdiv" style="clip:rect(3.85pt,167.85pt,15.6pt,0.25pt);">
                <div class="wcdiv" style="left:7.45pt; top:3.85pt;"><span class="wcspan wctext002" style="font-size:9pt; color:#202124; left:0pt; top:0.38pt; line-height:9.97pt;"><%= user.phone_number %></span></div>
            </div>
        </div>
        <div class="wcdiv" style="left:337.6pt; top:363.38pt;">
            <div class="wcdiv" style="clip:rect(3.85pt,52.75pt,22.65pt,0.25pt);">
                <div class="wcdiv" style="left:7.45pt; top:3.85pt;"><span class="wcspan wctext001" style="color:#ffffff;left:0pt;top:0.6pt;line-height: 13.3pt;"> - <%= user.user_number %></span>
                </div>
            </div>
        </div>
        <div class="wcdiv" style="left:237.65pt; top:297.74pt;">
            <div class="wcdiv" style="clip:rect(3.85pt,167.85pt,15.62pt,0.25pt);">
                <div class="wcdiv" style="left:7.45pt; top:3.85pt;"><span class="wcspan wctext002" style="font-size:9pt; color:#202124; left:0pt; top:0.38pt; line-height:9.97pt;"><%= user.email %></span></div>
            </div>
        </div>
        <div class="wcdiv" style="left:237.94pt; top:316.25pt;">
            <div class="wcdiv" style="clip:rect(3.85pt,167.85pt,15.6pt,0.25pt);">
                <div class="wcdiv" style="left:7.45pt; top:3.85pt;"><span class="wcspan wctext002" style="font-size:9pt; color:#202124; left:0pt; top:0.38pt; line-height:9.97pt;"><%= user.city %></span> </div>
            </div>
        </div>
        <div class="wcdiv" style="left:252.25pt; top:129.4pt;">
            <div class="wcdiv" style="left:-2.93pt; top:-2.93pt; width:149px; height:149px;">
              <!-- <object type="image/svg+xml" data="<%= user.profile_picture %>"></object> -->
              <img style="border-radius: 50%; height: 105%; width: 105%; margin-left: -5px; object-fit: cover;" src="<%= user.profile_picture %>" />
            </div>
        </div>
    </div>
</body>
<style>
@import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@700&display=swap');
.wcdiv {
	position:absolute;
}
.wcspan {
	position:absolute;
	white-space:pre;
	color:#000000;
	font-size:12pt;
}
.wcimg {
	position:absolute;
}
.wcsvg {
	position:absolute;
}
.wcpage {
	position:relative;
	margin:10pt auto 10pt auto;
	overflow:hidden;
}
@media print {
	body {
		margin:0pt;
		padding:0pt;
	}
	.wcpage {
		page-break-after:always;
		margin:0pt;
		padding:0pt;
        font-weight: 800;
	}
}
.wctext001 {
	/* font-family:'Calibri'; */
    font-family: 'Open Sans', sans-serif;
	font-style:normal;
	font-weight:bold;
}
.wctext002 {
	/* font-family:'Courier-new'; */
    font-family: 'Open Sans', sans-serif;
	font-style:normal;
	font-weight:bold;
}
</style>
<script>
    var element = document.getElementById("this-content");

    function test () {
        html2canvas(element, {allowTaint: true, useCORS: true, scale: 3}).then(function(canvas) {
            // create an anchor tag for the download link
            var link = document.createElement("a");
            link.download = "tagnameSOP.png";
            link.href = canvas.toDataURL();
            // trigger the download
            link.click();
        });
    };

// add click event listener to the button
document.getElementById("convert-btn").addEventListener("click", function() {
  // use html2canvas to convert the element to image
  test();
});
window.onload = (async function () {
    test();
})
  </script>

</html>